#ifndef CONFIG_H
#define CONFIG_H

// ═══════════════════════════════════════════════════════════════════════════
// НАСТРОЙКИ РЕЖИМА РАБОТЫ
// ═══════════════════════════════════════════════════════════════════════════

// Раскомментируйте для использования энкодеров FC-03
// #define USE_ENCODERS

// Режим отладки - выводит подробную информацию в Serial
#define DEBUG_MODE

// ═══════════════════════════════════════════════════════════════════════════
// ПИНЫ ПОДКЛЮЧЕНИЯ
// ═══════════════════════════════════════════════════════════════════════════

// Датчики линии TCRT5000 (цифровые входы)
#define SENSOR_1  32  // Крайний левый
#define SENSOR_2  33  // Левый
#define SENSOR_3  25  // Центральный
#define SENSOR_4  26  // Правый
#define SENSOR_5  27  // Крайний правый

// Управление моторами L298N (без PWM на ENA/ENB, управление через INx)
#define MOTOR_LEFT_FWD   12  // IN1 - левый мотор вперед
#define MOTOR_LEFT_BWD   13  // IN2 - левый мотор назад
#define MOTOR_RIGHT_FWD  14  // IN3 - правый мотор вперед
#define MOTOR_RIGHT_BWD  15  // IN4 - правый мотор назад

// Энкодеры FC-03 (опционально, прерывания)
#define ENCODER_LEFT   16  // Левый энкодер
#define ENCODER_RIGHT  17  // Правый энкодер

// ═══════════════════════════════════════════════════════════════════════════
// ПАРАМЕТРЫ РОБОТА
// ═══════════════════════════════════════════════════════════════════════════

// Физические параметры
#define WHEEL_DIAMETER      65.0    // Диаметр колеса в мм
#define WHEEL_BASE          125.0   // Расстояние между колесами в мм
#define ENCODER_SLOTS       20      // Количество прорезей в диске FC-03

// Вычисляемые константы
#define WHEEL_CIRCUMFERENCE (PI * WHEEL_DIAMETER)
#define MM_PER_TICK         (WHEEL_CIRCUMFERENCE / ENCODER_SLOTS)

// ═══════════════════════════════════════════════════════════════════════════
// ПАРАМЕТРЫ СКОРОСТИ
// ═══════════════════════════════════════════════════════════════════════════

#define BASE_SPEED     130  // Базовая скорость (0-255)
#define MAX_SPEED      200  // Максимальная скорость
#define MIN_SPEED      60   // Минимальная скорость
#define TURN_SPEED     100  // Скорость при поиске линии

// ═══════════════════════════════════════════════════════════════════════════
// ПАРАМЕТРЫ ПИД
// ═══════════════════════════════════════════════════════════════════════════

#define DEFAULT_KP     25.0  // Пропорциональный коэффициент
#define DEFAULT_KI     0.0   // Интегральный коэффициент
#define DEFAULT_KD     15.0  // Дифференциальный коэффициент

// Параметры ПИД для скорости (с энкодерами)
#define SPEED_KP       2.0
#define SPEED_KI       0.5
#define SPEED_KD       0.1

// ═══════════════════════════════════════════════════════════════════════════
// ПРОЧИЕ ПАРАМЕТРЫ
// ═══════════════════════════════════════════════════════════════════════════

#define SEARCH_TIMEOUT 2000  // Таймаут поиска линии (мс)

#endif // CONFIG_H
