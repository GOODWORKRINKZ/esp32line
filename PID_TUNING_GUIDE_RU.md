# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ü–ò–î-—Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞ –¥–ª—è —Ä–æ–±–æ—Ç–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ –ª–∏–Ω–∏–∏

## –ß—Ç–æ —Ç–∞–∫–æ–µ –ü–ò–î-—Ä–µ–≥—É–ª—è—Ç–æ—Ä?

–ü–ò–î (Proportional-Integral-Derivative) - —ç—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—á–∏—Å–ª—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

1. **P (–ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π)** - —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —Ç–µ–∫—É—â—É—é –æ—à–∏–±–∫—É
2. **I (–ò–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω—ã–π)** - —É—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—É—é –æ—à–∏–±–∫—É
3. **D (–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π)** - –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –±—É–¥—É—â—É—é –æ—à–∏–±–∫—É

### –§–æ—Ä–º—É–ª–∞:
```
–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ = Kp√ó–û—à–∏–±–∫–∞ + Ki√ó–°—É–º–º–∞_–æ—à–∏–±–æ–∫ + Kd√ó(–û—à–∏–±–∫–∞ - –ü—Ä–µ–¥—ã–¥—É—â–∞—è_–æ—à–∏–±–∫–∞)
```

## –ö–∞–∫ –ü–ò–î —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ä–æ–±–æ—Ç–∞ –Ω–∞ –ª–∏–Ω–∏–∏

### 1. –ò–∑–º–µ—Ä–µ–Ω–∏–µ –æ—à–∏–±–∫–∏

–†–æ–±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 5 –¥–∞—Ç—á–∏–∫–æ–≤ —Å –≤–µ—Å–∞–º–∏: **-2, -1, 0, +1, +2**

```
–î–∞—Ç—á–∏–∫–∏:  [S1]  [S2]  [S3]  [S4]  [S5]
–í–µ—Å–∞:      -2    -1     0    +1    +2

–ü—Ä–∏–º–µ—Ä—ã –ø–æ–∑–∏—Ü–∏–∏ –ª–∏–Ω–∏–∏:

–¶–µ–Ω—Ç—Ä:    [ ]   [ ]   [X]   [ ]   [ ]  ‚Üí –ü–æ–∑–∏—Ü–∏—è = 0.0
–ù–µ–º–Ω–æ–≥–æ   [ ]   [X]   [X]   [ ]   [ ]  ‚Üí –ü–æ–∑–∏—Ü–∏—è = -0.5
–≤–ª–µ–≤–æ:

–°–∏–ª—å–Ω–æ    [X]   [ ]   [ ]   [ ]   [ ]  ‚Üí –ü–æ–∑–∏—Ü–∏—è = -2.0
–≤–ª–µ–≤–æ:

–ù–µ–º–Ω–æ–≥–æ   [ ]   [ ]   [X]   [X]   [ ]  ‚Üí –ü–æ–∑–∏—Ü–∏—è = +0.5
–≤–ø—Ä–∞–≤–æ:

–°–∏–ª—å–Ω–æ    [ ]   [ ]   [ ]   [ ]   [X]  ‚Üí –ü–æ–∑–∏—Ü–∏—è = +2.0
–≤–ø—Ä–∞–≤–æ:
```

### 2. –†–∞—Å—á–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏

```cpp
–û—à–∏–±–∫–∞ = –ü–æ–∑–∏—Ü–∏—è –ª–∏–Ω–∏–∏  // -2.0 ... +2.0

P = Kp √ó –û—à–∏–±–∫–∞
I = Ki √ó –°—É–º–º–∞_–≤—Å–µ—Ö_–æ—à–∏–±–æ–∫
D = Kd √ó (–û—à–∏–±–∫–∞ - –ü—Ä–µ–¥—ã–¥—É—â–∞—è_–æ—à–∏–±–∫–∞)

–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ = P + I + D
```

### 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ –º–æ—Ç–æ—Ä–∞–º

```cpp
–°–∫–æ—Ä–æ—Å—Ç—å_–ª–µ–≤–æ–≥–æ = –ë–∞–∑–æ–≤–∞—è_—Å–∫–æ—Ä–æ—Å—Ç—å + –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞
–°–∫–æ—Ä–æ—Å—Ç—å_–ø—Ä–∞–≤–æ–≥–æ = –ë–∞–∑–æ–≤–∞—è_—Å–∫–æ—Ä–æ—Å—Ç—å - –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞

–ü—Ä–∏–º–µ—Ä:
–ë–∞–∑–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å = 130
–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ = +40 (–ª–∏–Ω–∏—è —Å–ø—Ä–∞–≤–∞, –Ω–∞–¥–æ –ø–æ–≤–µ—Ä–Ω—É—Ç—å –≤–ø—Ä–∞–≤–æ)

–õ–µ–≤—ã–π –º–æ—Ç–æ—Ä = 130 + 40 = 170 (–±—ã—Å—Ç—Ä–µ–µ)
–ü—Ä–∞–≤—ã–π –º–æ—Ç–æ—Ä = 130 - 40 = 90 (–º–µ–¥–ª–µ–Ω–Ω–µ–µ)
‚Üí –†–æ–±–æ—Ç –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤–ø—Ä–∞–≤–æ
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –ù–∞—á–Ω–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Å Kp

**–¶–µ–ª—å:** –ù–∞–π—Ç–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ Kp –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ä–æ–±–æ—Ç —Å–ª–µ–¥—É–µ—Ç –ø–æ –ª–∏–Ω–∏–∏

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
   ```cpp
   float Kp = 10.0;
   float Ki = 0.0;
   float Kd = 0.0;
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–æ–±–æ—Ç–∞ –Ω–∞ –ø—Ä—è–º–æ–π –ª–∏–Ω–∏–∏

3. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ Kp:**
   - Kp = 10 ‚Üí —Ä–æ–±–æ—Ç –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è, —Å—ä–µ–∑–∂–∞–µ—Ç
   - Kp = 20 ‚Üí —Ä–æ–±–æ—Ç –µ–¥–µ—Ç –ø–æ –ª–∏–Ω–∏–∏, –Ω–æ –∑–∏–≥–∑–∞–≥–æ–º
   - Kp = 30 ‚Üí —Å–∏–ª—å–Ω—ã–µ –∫–æ–ª–µ–±–∞–Ω–∏—è –≤–ª–µ–≤–æ-–≤–ø—Ä–∞–≤–æ
   - **Kp = 25 ‚Üí –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ** ‚úÖ

4. **–ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ Kp:**
   - ‚úÖ –†–æ–±–æ—Ç –¥–µ—Ä–∂–∏—Ç—Å—è –Ω–∞ –ª–∏–Ω–∏–∏
   - ‚úÖ –ù–µ–±–æ–ª—å—à–∏–µ –∫–æ–ª–µ–±–∞–Ω–∏—è –¥–æ–ø—É—Å—Ç–∏–º—ã
   - ‚ùå –°–∏–ª—å–Ω—ã–π –∑–∏–≥–∑–∞–≥ = —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ Kp
   - ‚ùå –°—ä–µ–∑–∂–∞–µ—Ç —Å –ª–∏–Ω–∏–∏ = —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ–µ Kp

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ Kd –¥–ª—è —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è

**–¶–µ–ª—å:** –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–µ–±–∞–Ω–∏—è –∏ —Å–¥–µ–ª–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ –ø–ª–∞–≤–Ω—ã–º

1. –ù–∞—á–Ω–∏—Ç–µ —Å:
   ```cpp
   float Kp = 25.0;  // –ù–∞–π–¥–µ–Ω–Ω–æ–µ –Ω–∞ —à–∞–≥–µ 1
   float Ki = 0.0;
   float Kd = 5.0;   // –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
   ```

2. **–£–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ Kd:**
   - Kd = 5 ‚Üí –∫–æ–ª–µ–±–∞–Ω–∏—è –≤—Å–µ –µ—â–µ –∑–∞–º–µ—Ç–Ω—ã
   - Kd = 10 ‚Üí –∫–æ–ª–µ–±–∞–Ω–∏—è —É–º–µ–Ω—å—à–∏–ª–∏—Å—å
   - Kd = 15 ‚Üí –ø–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ ‚úÖ
   - Kd = 20 ‚Üí —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –ø–æ–≤–æ—Ä–æ—Ç—ã

3. **–ü—Ä–∞–≤–∏–ª–æ –±–æ–ª—å—à–æ–≥–æ –ø–∞–ª—å—Ü–∞:**
   ```
   Kd = 0.5 √ó Kp   –¥–æ   Kd = 0.7 √ó Kp
   
   –î–ª—è Kp = 25:
   Kd = 12-18 (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ 15)
   ```

### –®–∞–≥ 3: Ki - –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –≤ –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞—è—Ö

**Ki –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:**
- –†–æ–±–æ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–º–µ—â–∞–µ—Ç—Å—è –≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É
- –ï—Å—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–∏–Ω –º–æ—Ç–æ—Ä —Å–ª–∞–±–µ–µ)

**–û–±—ã—á–Ω–æ Ki = 0!**

–ï—Å–ª–∏ –≤—Å–µ-—Ç–∞–∫–∏ –Ω—É–∂–µ–Ω:
1. –ù–∞—á–Ω–∏—Ç–µ —Å Ki = 0.1
2. –£–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ (0.1, 0.2, 0.3...)
3. –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π Ki ‚Üí —Ä–æ–±–æ—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç–µ–π

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å (—É—á–µ–±–Ω–∞—è)
```cpp
int baseSpeed = 80;
float Kp = 15.0;
float Ki = 0.0;
float Kd = 8.0;
```
- ‚úÖ –û—á–µ–Ω—å —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–æ –¥–ª—è —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π

### –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è) ‚≠ê –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
```cpp
int baseSpeed = 130;
float Kp = 25.0;
float Ki = 0.0;
float Kd = 15.0;
```
- ‚úÖ –ë–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ç—Ä–∞—Å—Å
- ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–æ–¥–µ

### –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å (—Å–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è)
```cpp
int baseSpeed = 180;
float Kp = 40.0;
float Ki = 0.0;
float Kd = 25.0;
```
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç —Å—Ä—ã–≤–∞—Ç—å —Å –ª–∏–Ω–∏–∏ –Ω–∞ —Ä–µ–∑–∫–∏—Ö –ø–æ–≤–æ—Ä–æ—Ç–∞—Ö

## –í–ª–∏—è–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞

### Kp (–ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π)

| –ó–Ω–∞—á–µ–Ω–∏–µ | –≠—Ñ—Ñ–µ–∫—Ç |
|----------|--------|
| –°–ª–∏—à–∫–æ–º –º–∞–ª | –†–æ–±–æ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç, —Å—ä–µ–∑–∂–∞–µ—Ç —Å –ª–∏–Ω–∏–∏ |
| –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π | –†–æ–±–æ—Ç –¥–µ—Ä–∂–∏—Ç—Å—è –Ω–∞ –ª–∏–Ω–∏–∏ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –∫–æ–ª–µ–±–∞–Ω–∏—è–º–∏ |
| –°–ª–∏—à–∫–æ–º –≤–µ–ª–∏–∫ | –°–∏–ª—å–Ω—ã–π –∑–∏–≥–∑–∞–≥, –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Å–∫–∞–∫–∏–≤–∞—Ç—å –ª–∏–Ω–∏—é |

**–°–∏–º–ø—Ç–æ–º—ã:**
- üìâ –ù–∏–∑–∫–∏–π Kp: —Ä–æ–±–æ—Ç "–ª–µ–Ω–∏–≤—ã–π", –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç –∑–∞ –ª–∏–Ω–∏–µ–π
- üìà –í—ã—Å–æ–∫–∏–π Kp: —Ä–æ–±–æ—Ç "–Ω–µ—Ä–≤–Ω—ã–π", –¥–µ—Ä–≥–∞–µ—Ç—Å—è –≤–ª–µ–≤–æ-–≤–ø—Ä–∞–≤–æ

### Kd (–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π)

| –ó–Ω–∞—á–µ–Ω–∏–µ | –≠—Ñ—Ñ–µ–∫—Ç |
|----------|--------|
| –°–ª–∏—à–∫–æ–º –º–∞–ª | –ö–æ–ª–µ–±–∞–Ω–∏—è, –∑–∏–≥–∑–∞–≥ |
| –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π | –ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, –±—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –ø–æ–≤–æ—Ä–æ—Ç—ã |
| –°–ª–∏—à–∫–æ–º –≤–µ–ª–∏–∫ | –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è, –º–æ–∂–µ—Ç —Å—Ä—ã–≤–∞—Ç—å –Ω–∞ —Ä–µ–∑–∫–∏—Ö –ø–æ–≤–æ—Ä–æ—Ç–∞—Ö |

**–°–∏–º–ø—Ç–æ–º—ã:**
- üìâ –ù–∏–∑–∫–∏–π Kd: –∫–æ–ª–µ–±–∞–Ω–∏—è –∫–∞–∫ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º Kp
- üìà –í—ã—Å–æ–∫–∏–π Kd: —Ä–æ–±–æ—Ç "–ª–µ–Ω–∏–≤—ã–π" –Ω–∞ –ø–æ–≤–æ—Ä–æ—Ç–∞—Ö, –∑–∞–ø–∞–∑–¥—ã–≤–∞–µ—Ç

### Ki (–ò–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω—ã–π)

| –ó–Ω–∞—á–µ–Ω–∏–µ | –≠—Ñ—Ñ–µ–∫—Ç |
|----------|--------|
| 0 | –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) |
| –ú–∞–ª—ã–π (0.1-0.5) | –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ |
| –°–ª–∏—à–∫–æ–º –≤–µ–ª–∏–∫ | –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –ø–µ—Ä–µ—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ |

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- ‚úÖ –û–¥–∏–Ω –º–æ—Ç–æ—Ä —Å–ª–∞–±–µ–µ –¥—Ä—É–≥–æ–≥–æ
- ‚úÖ –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π —É–∫–ª–æ–Ω –≤–ø—Ä–∞–≤–æ/–≤–ª–µ–≤–æ
- ‚ùå –í –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö Ki = 0

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ç—Ä–∞—Å—Å—É

### –¢—Ä–∞—Å—Å–∞ —Å –ø–ª–∞–≤–Ω—ã–º–∏ –ø–æ–≤–æ—Ä–æ—Ç–∞–º–∏
```cpp
baseSpeed = 150;   // –ú–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ
Kp = 30.0;         // –£–º–µ—Ä–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è
Kd = 20.0;         // –ë–æ–ª—å—à–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
```

### –¢—Ä–∞—Å—Å–∞ —Å —Ä–µ–∑–∫–∏–º–∏ –ø–æ–≤–æ—Ä–æ—Ç–∞–º–∏ 90¬∞
```cpp
baseSpeed = 100;   // –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –¥–ª—è –ø–æ–≤–æ—Ä–æ—Ç–æ–≤
Kp = 35.0;         // –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è
Kd = 15.0;         // –ú–µ–Ω—å—à–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è = –±—ã—Å—Ç—Ä–µ–µ –ø–æ–≤–æ—Ä–æ—Ç
```

### –¢—Ä–∞—Å—Å–∞ —Å –¢-–æ–±—Ä–∞–∑–Ω—ã–º–∏ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–∞–º–∏
```cpp
baseSpeed = 120;
Kp = 25.0;
Kd = 15.0;
// + –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–æ–≤
```

### –ù–µ—Ä–æ–≤–Ω–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å
```cpp
baseSpeed = 100;   // –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
Kp = 20.0;         // –ú–µ–Ω—å—à–µ –∞–≥—Ä–µ—Å—Å–∏–∏
Kd = 20.0;         // –ë–æ–ª—å—à–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è –≤–∏–±—Ä–∞—Ü–∏–π
```

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –†–æ–±–æ—Ç –∑–∏–≥–∑–∞–≥–æ–º

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π Kp
2. –°–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π Kd
3. –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å

**–†–µ—à–µ–Ω–∏–µ:**
```cpp
// –ë—ã–ª–æ:
Kp = 35.0, Kd = 10.0, baseSpeed = 150

// –°—Ç–∞–ª–æ:
Kp = 25.0,  // –£–º–µ–Ω—å—à–∏–ª–∏
Kd = 18.0,  // –£–≤–µ–ª–∏—á–∏–ª–∏
baseSpeed = 120  // –£–º–µ–Ω—å—à–∏–ª–∏
```

### –ü—Ä–æ–±–ª–µ–º–∞: –†–æ–±–æ—Ç —Å—ä–µ–∑–∂–∞–µ—Ç —Å –ª–∏–Ω–∏–∏

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –°–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π Kp
2. –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π Kd
3. –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å

**–†–µ—à–µ–Ω–∏–µ:**
```cpp
// –ë—ã–ª–æ:
Kp = 15.0, Kd = 20.0, baseSpeed = 180

// –°—Ç–∞–ª–æ:
Kp = 30.0,  // –£–≤–µ–ª–∏—á–∏–ª–∏
Kd = 15.0,  // –£–º–µ–Ω—å—à–∏–ª–∏
baseSpeed = 130  // –£–º–µ–Ω—å—à–∏–ª–∏
```

### –ü—Ä–æ–±–ª–µ–º–∞: –†–æ–±–æ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π Kd
2. –°–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π Kp
3. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω —Å–∫–æ—Ä–æ—Å—Ç–µ–π –º–æ—Ç–æ—Ä–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
```cpp
// –ë—ã–ª–æ:
Kp = 20.0, Kd = 25.0, maxSpeed = 150

// –°—Ç–∞–ª–æ:
Kp = 30.0,  // –£–≤–µ–ª–∏—á–∏–ª–∏
Kd = 15.0,  // –£–º–µ–Ω—å—à–∏–ª–∏
maxSpeed = 200  // –£–≤–µ–ª–∏—á–∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω
```

### –ü—Ä–æ–±–ª–µ–º–∞: –†–æ–±–æ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —É—Ö–æ–¥–∏—Ç –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –û–¥–∏–Ω –º–æ—Ç–æ—Ä —Å–ª–∞–±–µ–µ
2. –û–¥–∏–Ω –¥–∞—Ç—á–∏–∫ –Ω–µ –æ—Ç–∫–∞–ª–∏–±—Ä–æ–≤–∞–Ω
3. –ù—É–∂–µ–Ω Ki

**–†–µ—à–µ–Ω–∏–µ 1 (—Å —ç–Ω–∫–æ–¥–µ—Ä–∞–º–∏):**
```cpp
#define USE_ENCODERS  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
```

**–†–µ—à–µ–Ω–∏–µ 2 (–±–µ–∑ —ç–Ω–∫–æ–¥–µ—Ä–æ–≤):**
```cpp
// –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–±–æ–ª—å—à–æ–π Ki
Ki = 0.2;
```

**–†–µ—à–µ–Ω–∏–µ 3 (–ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è):**
```cpp
// –ï—Å–ª–∏ —É—Ö–æ–¥–∏—Ç –≤–ø—Ä–∞–≤–æ, –∑–∞–º–µ–¥–ª–∏—Ç–µ –ø—Ä–∞–≤—ã–π –º–æ—Ç–æ—Ä
int rightSpeed = (baseSpeed - correction) * 0.95;
```

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏

### 1. –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –Ω–∞ –ø–æ–≤–æ—Ä–æ—Ç–∞—Ö

```cpp
void followLine() {
  // ... —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫–æ–¥ ...
  
  // –ó–∞–º–µ–¥–ª—è–µ–º—Å—è –Ω–∞ –∫—Ä—É—Ç—ã—Ö –ø–æ–≤–æ—Ä–æ—Ç–∞—Ö
  if (abs(error) > 1.5) {
    baseSpeed = 100;  // –†–µ–∑–∫–∏–π –ø–æ–≤–æ—Ä–æ—Ç
  } else if (abs(error) > 0.8) {
    baseSpeed = 120;  // –°—Ä–µ–¥–Ω–∏–π –ø–æ–≤–æ—Ä–æ—Ç
  } else {
    baseSpeed = 150;  // –ü—Ä—è–º–∞—è
  }
  
  // ... –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∫–æ–¥–∞ ...
}
```

### 2. –†–∞–∑–Ω—ã–µ –ü–ò–î –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π

```cpp
// –ù–∞ –ø—Ä—è–º–æ–π
if (abs(error) < 0.3) {
  currentKp = 20.0;  // –ú–µ–Ω—å—à–µ –∫–æ–ª–µ–±–∞–Ω–∏–π
  currentKd = 10.0;
}
// –ù–∞ –ø–æ–≤–æ—Ä–æ—Ç–µ
else {
  currentKp = 35.0;  // –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–µ–µ
  currentKd = 20.0;
}

float correction = calculatePID(error, currentKp, currentKd);
```

### 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞–ª–∞ (–∞–Ω—Ç–∏-windup)

```cpp
// –í —Ñ—É–Ω–∫—Ü–∏–∏ calculatePID()
integral += error;

// –ê–Ω—Ç–∏-windup: –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏–Ω—Ç–µ–≥—Ä–∞–ª
if (integral > 100) integral = 100;
if (integral < -100) integral = -100;

float I = Ki * integral;
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í—ã–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

```cpp
#ifdef DEBUG_MODE
Serial.printf("Error: %.2f | P: %.1f | I: %.1f | D: %.1f | Corr: %.1f\n",
              error, P, I, D, correction);
#endif
```

### –ì—Ä–∞—Ñ–∏–∫ –≤ Serial Plotter

```cpp
// –í—ã–≤–æ–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞
Serial.print(error);
Serial.print(",");
Serial.print(correction);
Serial.print(",");
Serial.println(baseSpeed);
```

–û—Ç–∫—Ä–æ–π—Ç–µ: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚Üí Serial Plotter –≤ Arduino IDE

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

–ü–µ—Ä–µ–¥ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è–º–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] Kp –Ω–∞—Å—Ç—Ä–æ–µ–Ω (—Ä–æ–±–æ—Ç –¥–µ—Ä–∂–∏—Ç—Å—è –Ω–∞ –ª–∏–Ω–∏–∏)
- [ ] Kd –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ)
- [ ] Ki = 0 –∏–ª–∏ –æ—á–µ–Ω—å –º–∞–ª
- [ ] baseSpeed –æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è —Ç—Ä–∞—Å—Å—ã
- [ ] maxSpeed/minSpeed –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –†–æ–±–æ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä—è–º—ã–µ —É—á–∞—Å—Ç–∫–∏
- [ ] –†–æ–±–æ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–ª–∞–≤–Ω—ã–µ –ø–æ–≤–æ—Ä–æ—Ç—ã
- [ ] –†–æ–±–æ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ä–µ–∑–∫–∏–µ –ø–æ–≤–æ—Ä–æ—Ç—ã 90¬∞
- [ ] –†–æ–±–æ—Ç –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ª–∏–Ω–∏—é –ø–æ—Å–ª–µ –ø–æ—Ç–µ—Ä–∏
- [ ] –≠–Ω–∫–æ–¥–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã)
- [ ] –ù–µ—Ç –∫–æ–ª–µ–±–∞–Ω–∏–π –Ω–∞ –ø—Ä—è–º–æ–π
- [ ] –ë–∞—Ç–∞—Ä–µ—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞—Ä—è–∂–µ–Ω–∞

## –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ü—Ä–æ–±–ª–µ–º–∞          ‚îÇ –î–µ–π—Å—Ç–≤–∏–µ                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ó–∏–≥–∑–∞–≥            ‚îÇ ‚Üì Kp, ‚Üë Kd, ‚Üì —Å–∫–æ—Ä–æ—Å—Ç—å      ‚îÇ
‚îÇ –°—ä–µ–∑–∂–∞–µ—Ç          ‚îÇ ‚Üë Kp, ‚Üì Kd, ‚Üì —Å–∫–æ—Ä–æ—Å—Ç—å      ‚îÇ
‚îÇ –ú–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–≤–æ—Ä–æ—Ç  ‚îÇ ‚Üë Kp, ‚Üì Kd, ‚Üë maxSpeed      ‚îÇ
‚îÇ –£—Ö–æ–¥–∏—Ç –≤ —Å—Ç–æ—Ä–æ–Ω—É  ‚îÇ –î–æ–±–∞–≤–∏—Ç—å Ki=0.2 –∏–ª–∏ —ç–Ω–∫–æ–¥–µ—Ä—ã‚îÇ
‚îÇ –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ       ‚îÇ ‚Üì —Å–∫–æ—Ä–æ—Å—Ç—å, ‚Üì Kp, ‚Üë Kd      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ: Kd ‚âà 0.5-0.7 √ó Kp, Ki = 0
```

–£—Å–ø–µ—à–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏! üéØ
